$delay: 0.3s;
$duration: 0.2s;

.architecture {
	margin: 0 auto;
	padding-bottom: 50vh;
	padding-top: 10rem;
	position: relative;

	&.animation-started {
		.architecture-background {
			opacity: 1;
			visibility: visible;
		}

		.architecture-block {
			opacity: 1;
			visibility: visible;
		}

		.architecture-block-0 {
			transition-delay: $delay * 4;
		}

		.architecture-block-1 {
			transition-delay: $delay * 5;
		}

		.architecture-block-2 {
			transition-delay: $delay * 6;
		}

		.architecture-block-3 {
			transition-delay: $delay * 3;
		}

		.architecture-block-4 {
			transition-delay: $delay * 2;
		}

		.architecture-block-5 {
			transition: $delay;
		}

		.arrow {
			opacity: 1;
			transition-delay: $delay * 7;
			visibility: visible;

			&.arrow-right {
				transform: rotate(180deg);
			}
		}

		.outside-architecture-block {
			transition-delay: $delay * 8;
		}
	}

	.architecture-background,
	.architecture-block,
	.arrow {
		opacity: 0;
		transition: opacity $duration ease-in-out,
			visibility $duration ease-in-out;
		visibility: hidden;
	}

	.architecture-background {
		height: 165%;
		left: -42%;
		opacity: 1;
		overflow: hidden;
		position: absolute;
		top: -33%;
		transition: opacity 1s, visibility 1s;
		visibility: visible;
		width: 150%;
		z-index: -1;
	}

	.architecture-block {
		margin: 0.5em;
		position: relative;
	}

	.architecture-block:not(.inline-architecture-block):not(.outside-architecture-block) {
		background-color: #f3f5f6;
	}

	.architecture-top-row .architecture-block:not(.outside-architecture-block) {
		max-width: calc(33% - 4em);
	}

	.architecture-title {
		margin: 0 auto 1.25em;
		max-width: 90%;
	}

	.arrow {
		position: absolute;
		z-index: 1;
	}

	.arrow-left {
		left: -1.5em;
	}

	.arrow-right {
		right: -1.5rem;
	}

	.auto-scale-wrapper {
		margin: 0 auto;
		overflow: visible !important;
	}

	.double-blue-arrow {
		height: 32px;
		top: 57%;
		width: 53px;
	}

	.green-arrow {
		height: 18px;
		top: 13%;
		width: 35px;
	}

	.main-architecture {
		background-color: #fff;
		border-radius: 4px;
		box-shadow: 0 15px 25px rgba(0, 0, 0, 0.1);
		box-sizing: border-box;
		display: flex;
		flex-wrap: wrap;
		margin: 0 auto;
		padding: 1em 2.5em;
		position: relative;
		width: 34em;
	}

	.main-architecture-container {
		width: 70em;
	}

	.middle-padding {
		padding: 2.25em 1.5em;
	}

	.outside-block-container {
		position: relative;
	}

	@include respond-to(phone, tablet) {
		.main-architecture-container {
			width: 54em;
		}

		.architecture-tool-tip {
			display: none !important;
		}
	}

	@include respond-to(phone) {
		padding-top: 3rem;
	}
}
